<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Advanced Development Assignment 2021">
    <meta name="author" content="William Wernick">

    <title>IKEAD</title>

    <!-- Bootstrapgit config --global user.name core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <!-- Custom styles -->
    <link href="static/css/custom.css" rel="stylesheet">
  </head>

  {% set navigation_bar = [('/store', 'store', 'Store'), ('/ordermanager', 'supplyfulfillment', 'Supply & Fulfillment'), ('/admin','admincentre','Admin Centre')] -%}

  {% set active_page = active_page|default('store') -%}

  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top" style="background-color: #0051BA;">

      <a style="font-size: 30px; color:#FFDA1A; font-weight: bold; cursor:default; margin-right:10px">IKEAD</a>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">

        <span class="navbar-toggler-icon"></span>

      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">

        <ul class="navbar-nav">

          {% for href, id, caption in navigation_bar %}
            {% if id == active_page %}

                <li class="nav-item active">

                  <a class="nav-link" href="{{ href|e }}">{{ caption|e }} <span class="sr-only">(current)</span></a>

                </li>

            {% else %}

                <li class="nav-item">

                  <a class="nav-link" href="{{ href|e }}">{{ caption|e }}</a>

                </li>

            {% endif %}
          {% endfor %}    

        </ul>
        
      </div>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault" style="margin-right: 20px;">

        <ul class="navbar-nav ml-auto">
            
            <button class="btn navbar-btn" style="font-weight: bold; color:#0051BA;" onclick="openLoginOverlay()">Sign In</button>

            <li class="nav-item">

                <a class="nav-link" href="/checkout">
                
                    <img src="https://i.imgur.com/hF0SqCz.png" alt ="Basket image" style="width: 30px; height:30px" onmouseover="" title="Basket"> 
                
                </a>

            </li>

            <li class="nav-item dropdown active">

                <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Tom Brown</a>

                <div class="dropdown-menu">
                    
                    <a class="dropdown-item" href="/orderhistory">Orders</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" onclick="openLoginOverlay()">Logout</a>

                </div>

            </li> 
            
        </ul>

      </div>

    </nav>

    <main role="main" class="container-fluid" style="height: 85vh;">

      {% block content %}
      {% endblock %}

    </main>

    <div id="loginOverlay" style="position:fixed; display: none; width: 100%; height:100%; top:0; left:0; right:0; bottom:0; background-color: rgba(0,0,0,0.5); z-index: 1031; align-items: center; justify-content: center;">

        <div id="loginContainer" style="position:relative; width:480px; height:60%; background-color: white; border-radius:10px">

            <img src="" alt="" style="width:30px; height:30px; background-color: red; position: absolute;; top:5px; right:5px; cursor: pointer;" onclick="closeLoginOverlay()"/>

        </div>

    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    <script>
        function openLoginOverlay() {
          document.getElementById("loginOverlay").style.display = "flex";
        }
        
        function closeLoginOverlay() {
          document.getElementById("loginOverlay").style.display = "none";
        }
        </script>
  </body>
</html>
