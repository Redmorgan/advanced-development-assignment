{% extends "base.html" %}

{% set active_page = "supplyfulfillment" %}

{% block content %}

<!-- Bootstrapgit config --global user.name core CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<!-- Custom styles -->
<link href="../static/css/custom.css" rel="stylesheet">

<div style="width: 100%; height:100%;">
    <div style="width: 50%; height:100%; margin-left: 25%;">

        {% if pageType == "admin" %}

            <a href="/ordermanager"><label style="margin-bottom: 0px; cursor: pointer;">&lt; Return to orders</label></a>

        {% elif pageType == "user" %}

            <a href="/orderhistory"><label style="margin-bottom: 0px; cursor: pointer;">&lt; Return to orders</label></a>

        {% endif %}

        <h1>Order #</h1>

        <div id="orderDetailsContatiner" style="width:100%; height:25%; background-color: rgba(248, 248, 248, 1); border-radius: 10px; display: flex; flex-direction: row;">

            <div id="orderSummary" style="height:100%; width:calc(100%/3); border-right: 1px solid rgba(234,234,234,1);">

                <label style="margin-top: 10px; margin-left: 10px; font-size:20px">Order Summary</label>

            </div>

            <div id="deliveryInformation" style="height:100%; width:calc(100%/3); border-right: 1px solid rgba(234,234,234,1);">

                <label style="margin-top: 10px; margin-left: 10px; font-size:20px">Delivery Information</label>

            </div>

            <div id="billingInformation" style="height:100%; width:calc(100%/3);">

                <label style="margin-top: 10px; margin-left: 10px; font-size:20px">Billing Information</label>

            </div>

        </div>

        <div id="orderContentsContainer" style="width:100%; height:65%; margin-top:1%">

            <div id="orderContentsHeader" style="width:100%; height:5%; color:rgba(147, 147, 147, 1); display:flex; flex-direction: row;">

                <label style="width:70%">Product</label>
                <label style="width:10%">Unit Price</label>
                <label style="width:10%">Quantity</label>
                <label style="width:10%">Total</label>

            </div>

            <div id="orderContentsBody" style="width: 100%; height:95%; overflow-y: auto;">

                {% for item in order %}

                    <div id="orderItem_{{ item['id'] }}" style="width:100%; height:25%; display:flex; flex-direction: row; margin-bottom: 10px;">

                        <div id="orderItemLeft" style="height:100%; width: 70%; display:flex; flex-direction: row;">

                            <img id="orderItemImg_{{ item['id'] }}" src="{{ item['productURL'] }}" alt="" style="height:100%; border-radius: 10px;">

                            <div id="orderItemDetails_{{ item['id'] }}" style="display: flex; flex-direction: column; margin-left: 5px;">

                                <label>{{ item['name'] }}</label>
                                <label>{{ item['id'] }}</label>

                            </div>

                        </div>

                        <div id="orderItemCosts_{{ item['id'] }}" style="width: 30%; display:flex; flex-direction: row;">
                            
                            <label style="width:calc(100%/3)">£{{ item['price'] }}</label>
                            <label style="width:calc(100%/3)">{{ item['quantity'] }}</label>
                            <label style="width:calc(100%/3)">£{{ item['price'] *  item['quantity'] }}</label>

                        </div>

                    </div>

                {% endfor %}

            </div>
            
            {% if pageType == "admin" %}

                <div style="width:100%; height:7%; display:flex; flex-direction: row; margin-top: 10px;">
                    
                    <select name="orderStatus" id="orderStatus" style="width:15%; height:100%; margin-right:1%; border-radius: 10px; outline:none; margin-left:73%">

                        <option>In progress</option>
                        <option>Completed</option>
                        <option>Cancelled</option>

                    </select>

                    <button id="searchOrders" style="width:10%; height:100%; cursor: pointer; background-color: #0051BA; color:#FFDA1A; font-weight: bold; border:none; border-radius: 10px; outline:none; right:0;">UPDATE</button>

                </div>

            {% endif %}

        </div>
       
    </div>

</div>

{% endblock %}
